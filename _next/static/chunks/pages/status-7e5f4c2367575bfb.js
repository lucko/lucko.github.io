(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{6926:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return s(415)}])},4490:function(e,t,s){"use strict";s.d(t,{Z:function(){return Layout}});var n=s(5893),r=s(1664),a=s.n(r),i=s(9008),l=s.n(i),c=s(1163);function Layout(e){let{children:t,title:s=""}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"lucko.me"+(s&&" | "+s)})}),(0,n.jsx)(Sidebar,{}),(0,n.jsx)(Content,{children:t})]})}let Sidebar=()=>(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsx)(Header,{}),(0,n.jsx)(Nav,{}),(0,n.jsx)(Footer,{})]}),Header=()=>(0,n.jsxs)("header",{className:"container",children:[(0,n.jsx)("img",{src:"/assets/me.jpg",alt:"Me"}),(0,n.jsx)("h1",{children:"lucko.me"})]}),Nav=()=>(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)(Link,{name:"/home",url:"/"}),(0,n.jsx)(Link,{name:"/contact",url:"/contact"}),(0,n.jsx)(Link,{name:"/status",url:"/status"}),(0,n.jsx)(Link,{name:"/ssh",url:"/ssh"}),(0,n.jsx)(Link,{name:"/pgp",url:"/pgp"})]})}),Link=e=>{let{name:t,url:s}=e,r=(0,c.useRouter)();return s===r.pathname?(0,n.jsx)("li",{className:"current-page",children:t}):(0,n.jsx)("li",{className:"other-page",children:(0,n.jsx)(a(),{href:s,children:t})})},Footer=()=>{let e=new Date().getFullYear().toString().substring(2);return(0,n.jsx)("footer",{className:"container",children:(0,n.jsxs)("p",{children:["\xa9 2015-",e," ",(0,n.jsx)("a",{href:"https://github.com/lucko/lucko.github.io",children:"lucko"})]})})},Content=e=>{let{children:t}=e;return(0,n.jsx)("main",{className:"content container page",children:t})}},415:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Status}});var n=s(5893),r=s(7294),a=s(4490);function Status(){let[e,t]=(0,r.useState)();return(0,r.useEffect)(()=>{pollStatus().then(e=>{t(e)})},[t]),(0,n.jsx)(a.Z,{title:"status",children:(0,n.jsxs)("article",{children:[(0,n.jsx)("h1",{children:"Status"}),e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"The table below shows the status of the self-hosted services available on this domain."}),(0,n.jsx)("p",{children:"Most of my websites (including this one) are static sites hosted on a CDN (usually Vercel, GitHub Pages, Cloudflare Pages), so their statuses are not tracked here."}),(0,n.jsx)("p",{}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Service"}),(0,n.jsx)("th",{children:"Status"})]})}),(0,n.jsx)("tbody",{children:Object.entries(e).map((e,t)=>{let[s,r]=e;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)(ServiceTag,{id:s})}),(0,n.jsx)("td",{children:r})]},t)})})]}),(0,n.jsx)("p",{children:"The availability of each service in the table above is polled from Cloudflare's Health Check API."})]}):(0,n.jsx)("p",{children:"Loading..."})]})})}let ServiceTag=e=>{let{id:t}=e,[s,r]={jenkins:["Jenkins","ci.lucko.me"],nexus:["Nexus","nexus.lucko.me"],bytebin:["Bytebin","bytebin.lucko.me"],bytesocks:["Bytesocks","luckperms.net - editor websocket service"],"lp-metadata":["LuckPerms Metadata API","metadata.luckperms.net"],"spark-metadata":["spark API","sparkapi.lucko.me"]}[t]||[];return s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("b",{children:s}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{color:"gray"},children:r})]}):(0,n.jsx)(n.Fragment,{children:t})};async function pollStatus(){let e=await fetch("https://lucko.me/api/status");if(!e.ok)return{api:"⚠️ returned status "+e.status};let t=await e.json(),s={};for(let[e,n]of Object.entries(t))n.ok?s[e]="✅":s[e]="⚠️ "+n.msg;return s}}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=6926)}),_N_E=e.O()}]);